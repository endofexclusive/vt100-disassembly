# This Make script can be used to disassemble the ROM.
#
# Step 1. DIS shall point to the dis8080 program.
# Step 2. vt100-original.bin shall be the VT100 ROM (4x2KiB).
# Step 3. gmake -f Makefile.dis
#

all: vt100-original.bin.dis

DIS  = dis8080/dis8080

# These are (offset,length) pairs indicating data portions in the ROM.

DIS += -d 0x02d9 0x12
DIS += -d 0x044b 0x2b
DIS += -d 0x0476 0x59
DIS += -d 0x085f 0x05
DIS += -d 0x08e5 0x16
DIS += -d 0x0a1c 0x34
DIS += -d 0x0a50 0x2b
DIS += -d 0x0a7b 0x13
DIS += -d 0x0ad9 0x1c
DIS += -d 0x0af5 0x1c
DIS += -d 0x0c4c 0x0b
DIS += -d 0x0c8a 0x0d
DIS += -d 0x0e94 0x0c
DIS += -d 0x140a 0x1c
DIS += -d 0x1426 0x04
DIS += -d 0x1432 0x03
DIS += -d 0x143b 0x03
DIS += -d 0x144a 0x03
DIS += -d 0x1451 0x03
DIS += -d 0x1462 0x03
DIS += -d 0x1469 0x03
DIS += -d 0x1470 0x03
DIS += -d 0x17ec 0x07
DIS += -d 0x17f3 0x0b
DIS += -d 0x1aa2 0x14
DIS += -d 0x1cad 0x20
DIS += -d 0x1d4b 0x16
DIS += -d 0x1d7c 0x50

%.bin.dis: %.bin
	$(DIS) < $< | expand > $@

.PHONY: clean
clean:
	$(RM) vt100-original.bin.dis

